#!/usr/sbin/nft -f

flush ruleset

table inet filter {
    chain input {
        type filter hook input priority 0;

        # Allow loopback traffic
        iifname "lo" accept

        # Allow established and related traffic
        ct state established,related accept

        # Allow SSH traffic
        tcp dport 22 accept

        # Allow HTTP traffic
        tcp dport 80 accept

        # Allow HTTPS traffic
        tcp dport 443 accept

        # Drop all other traffic
        drop
    }
}